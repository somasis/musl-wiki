# Bugs found by musl

(originally created for [slcon 2013](https://suckless.org/conferences/2013))

## Bugs found and reported

- [pcc (integer constant expression bug)](http://marc.info/?l=pcc-list&m=130668720317216)
- [pcc (cpp bug: \#define B !defined(A))](http://marc.info/?l=pcc-list&m=130615802708117)
- [pcc (cpp bug: macro()text)](http://marc.info/?l=pcc-list&m=130608353609512)
- [pcc (cpp bug: line reporting)](http://marc.info/?l=pcc-list&m=130574679902571)
- [pcc (cpp bug: recursive macro)](http://marc.info/?l=pcc-list&m=130573226614698)
- [pcc (corrupted static variable)](http://marc.info/?l=pcc-list&m=130942814905111)
- [pcc (-Os)](http://marc.info/?l=pcc-list&m=131498417826086)
- [pcc (makefile bug)](http://marc.info/?l=pcc-list&m=131161005321400)
- [pcc (\_\_builtin\_nanf for -fPIC)](http://marc.info/?l=pcc-list&m=134426895408050)
- [pcc (-print-file-name)](http://marc.info/?l=pcc-list&m=134725988825229)
- [pcc (complex cast to double)](http://marc.info/?l=pcc-list&m=134770849902979)
- [pcc (crtbeginT.o)](http://marc.info/?l=pcc-list&m=134795929304570)
- [pcc (visibility=hidden, inline asm with array argument, \_\_PIC\_\_, pcc-libs without -fPIC)](http://marc.info/?l=pcc-list&m=135020300019821)
- [gcc 48825 (compiling gcc libiberty is built as target lib)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48825)
- [binutils 12657 (binutils uses \_\_pid\_t instead of pid\_t)](http://sourceware.org/bugzilla/show_bug.cgi?id=12657)
- [glibc 12683 (race condition in pthread cancellation)](http://sourceware.org/bugzilla/show_bug.cgi?id=12683), [article on ewontfix](http://ewontfix.com/2/)
- [glibc 12701 (incorrect input matching in scanf)](http://sourceware.org/bugzilla/show_bug.cgi?id=12701)
- [glibc 12889 (race condition in pthread\_kill)](http://sourceware.org/bugzilla/show_bug.cgi?id=12889)
- [gdb 13011 (build system does not check for dl- api)](http://sourceware.org/bugzilla/show_bug.cgi?id=13011)
- [gdb 13014 (build system does not check for thread\_db api)](http://sourceware.org/bugzilla/show_bug.cgi?id=13014)
- [glibc 13065 (race condition in pthread barriers)](http://sourceware.org/bugzilla/show_bug.cgi?id=13065)
- [glibc 13080 (incorrect definition of clock\_t)](http://sourceware.org/bugzilla/show_bug.cgi?id=13080)
- [glibc 13151 (fmemopen does not give EOF)](http://sourceware.org/bugzilla/show_bug.cgi?id=13151)
- [glibc 13152 (fmemopen does not honour append mode)](http://sourceware.org/bugzilla/show_bug.cgi?id=13152)
- [glibc 13154 (strtol clobbers endptr on invalid base)](http://sourceware.org/bugzilla/show_bug.cgi?id=13154)
- [glibc 13172 (aio\_suspend is not async-signal-safe)](http://sourceware.org/bugzilla/show_bug.cgi?id=13172)
- [glibc 13234 (performance issue: non-pshared vs pshared condition vars)](http://sourceware.org/bugzilla/show_bug.cgi?id=13234)
- [glibc 13347 (threaded setuid can incorrectly report success)](http://sourceware.org/bugzilla/show_bug.cgi?id=13347)
- [glibc 13613 (broken cancellation in single-threaded process)](http://sourceware.org/bugzilla/show_bug.cgi?id=13613)
- [glibc 13837 (sin,cos argument reduction on x86)](http://sourceware.org/bugzilla/show_bug.cgi?id=13837)
- [binutils 13891 (binutils cannot be linked statically)](http://sourceware.org/bugzilla/show_bug.cgi?id=13891)
- [libtool (makes static linking impossible)](http://debbugs.gnu.org/cgi/bugreport.cgi?bug=11064)
- [glibc 13959 (namespace pollution when \_GNU\_SOURCE is defined)](http://sourceware.org/bugzilla/show_bug.cgi?id=13959)
- [glibc 13988 (scanf %f handles +.e incorrectly)](http://sourceware.org/bugzilla/show_bug.cgi?id=13988)
- [gcc 52451 (float nan comparision without raising invalid and broken -mno-ieee-fp)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=52451)
- [glib 672665 (race in dlsym error detection)](https://bugzilla.gnome.org/show_bug.cgi?id=672665)
- [glib 674446 (g\_malloc aborts on allocation failure)](https://bugzilla.gnome.org/show_bug.cgi?id=674446)
- [glib 674540 (incorrect assert in gconvert)](https://bugzilla.gnome.org/show_bug.cgi?id=674540)
- [alsa-lib (invalid format specifier %L used for long long)](http://git.alsa-project.org/?p=alsa-lib.git;a=commitdiff;h=1d3f7975f920f47e6a8a324f547da2180e64171a)
- [glibc 14008 (incorrect iconv behaviour when char does not exist in destination charset)](http://sourceware.org/bugzilla/show_bug.cgi?id=14008)
- [glibc 14010 (alphabetic character class does not follow unicode)](http://sourceware.org/bugzilla/show_bug.cgi?id=14010)
- [glibc 14029 (manual wrongly claims fnmatch cannot fail)](http://sourceware.org/bugzilla/show_bug.cgi?id=14029)
- [gcc 52593 (builtin sqrt is not correctly rounded)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=52593)
- [gcc 53119 (bogus warning about universal zero initializer)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=53119)
- [glibc 14032 (sqrt is not correctly rounded)](http://sourceware.org/bugzilla/show_bug.cgi?id=14032)
- [binutils 14037 (.eh\_frame stripped shared lib incorrectly linked with -fPIC program)](http://sourceware.org/bugzilla/show_bug.cgi?id=14037)
- [glibc 14047 (spurious ERANGE by strtof)](http://sourceware.org/bugzilla/show_bug.cgi?id=14047)
- [glibc 14102 (NI\_NUMERICSCOPE is missing from netdb.h)](http://sourceware.org/bugzilla/show_bug.cgi?id=14102)
- [glibc 14147 (async cancellation mode may be spuriously set)](http://sourceware.org/bugzilla/show_bug.cgi?id=14147)
- [binutils 14156 (--sort-sectio=alignment is broken)](http://sourceware.org/bugzilla/show_bug.cgi?id=14156)
- [busybox (sed bug)](https://bugs.busybox.net/show_bug.cgi?id=5246)
- [glibc 14233 (test assertions are not explained)](http://sourceware.org/bugzilla/show_bug.cgi?id=14233)
- [glibc 14254 (scanf warn-unused-result is not justified)](http://sourceware.org/bugzilla/show_bug.cgi?id=14254)
- [glibc 14286 (integer overflow in vfwprintf %s)](http://sourceware.org/bugzilla/show_bug.cgi?id=14286)
- [gnulib (SLOW\_BUT\_NO\_HACKS could be a fallback)](http://www.mail-archive.com/bug-gnulib@gnu.org/msg27302.html)
- [gnulib (4bugs: freadahead, printf of invalid long double, getopt, SLOW\_BUT\_NO\_HACKS)](http://www.mail-archive.com/bug-gnulib@gnu.org/msg27339.html)
- [gcc 54232 (x86 PIC code reserves register for GOT even if there is no global data)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=54232)
- [posix 603 (request for posix\_spawn with setrlimit, chdir,..)](http://www.austingroupbugs.net/view.php?id=603)
- [glibc 14485 (race condition in robust mutex unlocking)](http://sourceware.org/bugzilla/show_bug.cgi?id=14485)
- [glibc 14511 (dlcose is unsafe)](http://sourceware.org/bugzilla/show_bug.cgi?id=14511)
- [binutils 14512 (not-unloadable dso should be the default)](http://sourceware.org/bugzilla/show_bug.cgi?id=14512)
- [glibc 14553 (loff\_t is visible in sys/types.h)](http://sourceware.org/bugzilla/show_bug.cgi?id=14553)
- [glibc 14565 (additional failure case in writev emulation)](http://sourceware.org/bugzilla/show_bug.cgi?id=14565)
- [glibc 14578 (fchmodat with AT\_SYMLINK\_NOFOLLOW fails unconditionally)](http://sourceware.org/bugzilla/show_bug.cgi?id=14578)
- [glib 684123 (\_GNU\_SOURCE is only tried if glibc is detected)](https://bugzilla.gnome.org/show_bug.cgi?id=684123)
- [posix 609 (pthread\_cond\_broadcast, pthread\_cond\_signal)](http://austingroupbugs.net/view.php?id=609)
- [glibc 14609 (stack clobbering in pthread cancellation cleanup handlers)](http://sourceware.org/bugzilla/show_bug.cgi?id=14609)
- [glibc 14627 (interrupted close is non-conformant)](http://sourceware.org/bugzilla/show_bug.cgi?id=14627)
- [gas 14640 (broken relocations for weak symbols on microblaze)](http://sourceware.org/bugzilla/show_bug.cgi?id=14640)
- [glibc 14697 (behaviour of exit is non-conformant)](http://sourceware.org/bugzilla/show_bug.cgi?id=14697)
- [qemu (broken app-level clone for microblaze)](https://bugs.launchpad.net/qemu/+bug/1066909)
- [qemu (broken app-level thread cancellation)](https://bugs.launchpad.net/qemu/+bug/1068900)
- [glibc 14744 (kill -32 cancels random thread)](http://sourceware.org/bugzilla/show_bug.cgi?id=14744)
- [glibc 14749 (race condition with vfork in posix\_spawn, address space sharing)](http://sourceware.org/bugzilla/show_bug.cgi?id=14749)
- [glibc 14750 (race condition with vfork in posix\_spawn, signal handlers)](http://sourceware.org/bugzilla/show_bug.cgi?id=14750)
- [gcc 55012 (protected visibility wrongly uses GOT relative addressing)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=55012)
- [glibc 14752 (unsafe alloca in shm\_open)](http://sourceware.org/bugzilla/show_bug.cgi?id=14752)
- [posix 610 (exit vs threads)](http://austingroupbugs.net/view.php?id=610)
- [posix 611 (exit vs locked stdio)](http://austingroupbugs.net/view.php?id=611)
- [posix 612 (dirname of "usr/" and "/")](http://austingroupbugs.net/view.php?id=612)
- [posix 613 (pthread\_cleanup\_push and auto object lifetime)](http://austingroupbugs.net/view.php?id=613)
- [posix 614 (close as a cancellation point)](http://austingroupbugs.net/view.php?id=614)
- [posix 615 (pthread\_setcancelstate should be async-signal-safe)](http://austingroupbugs.net/view.php?id=615)
- [posix 622 (loophole that turns any function async-cancel-safe)](http://austingroupbugs.net/view.php?id=622)
- [posix 623 (poll should not modify fds\[i\].fd and fds\[i\].events)](http://austingroupbugs.net/view.php?id=623)
- [posix 624 (pthread\_cleanup\_pop and \_push should not require a prototype)](http://austingroupbugs.net/view.php?id=624)
- [posix 625 (allowing alarm based sleep contradicts thread-safety)](http://austingroupbugs.net/view.php?id=625)
- [posix 626 (fflush vs memory streams)](http://austingroupbugs.net/view.php?id=626)
- [posix 627 (pthread cancellation of system())](http://austingroupbugs.net/view.php?id=627)
- [posix 632 (pclose as a cancellation point)](http://austingroupbugs.net/view.php?id=632)
- [posix 633 (SIGEV\_THREAD signal delivery)](http://austingroupbugs.net/view.php?id=633)
- [glibc 14782 (cancellation is enabled for system)](http://sourceware.org/bugzilla/show_bug.cgi?id=14782)
- [gcc 55129 (release packaging issue)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=55129)
- [binutils 14798 (gas for mips generates symbols with wrong types)](http://sourceware.org/bugzilla/show_bug.cgi?id=14798)
- [glib 687600 (gfileutils uses open through non-vararg function pointer)](https://bugzilla.gnome.org/show_bug.cgi?id=687600)
- [qemu (socket type mapping for mips app-level emulation is wrong)](https://bugs.launchpad.net/qemu/+bug/1075272)
- [glibc 10815 (SIGEV\_THREAD signal delivery)](http://sourceware.org/bugzilla/show_bug.cgi?id=10815)
- [clang 13694 (wrong optimization with -ffreestanding)](http://llvm.org/bugs/show_bug.cgi?id=13694)
- [gcc 55431 (invlid auxv search in ppc linux-unwind code)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=55431)
- [glibc 14829 (sched\_- alter thread scheduling instead of process scheduling)](http://sourceware.org/bugzilla/show_bug.cgi?id=14829)
- [glibc 14830 (race condition with signals and priority sched)](http://sourceware.org/bugzilla/show_bug.cgi?id=14830)
- [glibc 14942 (file corruption with close and aio)](http://sourceware.org/bugzilla/show_bug.cgi?id=14942)
- [glibc 14985 (EPOLL\_NONBLOCK broken definition)](http://sourceware.org/bugzilla/show_bug.cgi?id=14985)
- [openssl (build system issue)](https://rt.openssl.org/Ticket/Display.html?id=2823&user=guest&pass=guest)
- [inkscape (use of sys/fcntl.h instead of fcntl.h)](https://bugs.launchpad.net/altlinux/+source/inkscape/+bug/910335/+index)
- [boehm gc (build system, fallback code for determining stack address)](http://www.hpl.hp.com/hosted/linux/mail-archives/gc/2013-January/date.html)
- [posix 650 (c99 -E on \#pragma)](http://austingroupbugs.net/view.php?id=650)
- [glibc 15088 (\_POSIX\_PRIORITY\_SCHEDULING is defined)](http://sourceware.org/bugzilla/show_bug.cgi?id=15088)
- [glibc 15124 (no way to get conformant api, eg strerror\_r)](http://sourceware.org/bugzilla/show_bug.cgi?id=15124)
- [posix 655 (deprecate strerror\_r)](http://austingroupbugs.net/view.php?id=655)
- [posix 656 (allow or forbid tls for static buffers)](http://austingroupbugs.net/view.php?id=656)
- [posix 659 (allow timer\_t to be non-arithmetic)](http://austingroupbugs.net/view.php?id=659)
- [glibc 15129 (timer\_t is non-conforming)](http://sourceware.org/bugzilla/show_bug.cgi?id=15129)
- [glib 694239 (gresolver uses non-portable libc api)](https://bugzilla.gnome.org/show_bug.cgi?id=694239)
- [posix 662 (atomicity of freopen)](http://austingroupbugs.net/view.php?id=662)
- [posix 663 (strcasecmp is underspecified)](http://austingroupbugs.net/view.php?id=663)
- [linux-lvm (include the correct header files)](https://www.redhat.com/archives/linux-lvm/2013-February/msg00000.html)
- [cairo (FE\_ macros might not be defined in fenv.h)](https://bugs.freedesktop.org/show_bug.cgi?id=55771)
- [dnsmasq (unchecked use of SO\_REUSEPORT)](http://www.openwall.com/lists/musl/2013/04/02/4)
- [googletest framework (missing sys/socket.h include)](http://groups.google.com/group/googletestframework/browse_thread/thread/8d2ecb3d0211f6db)
- [mdadm (canonicalize\_file\_name, broken ifdefs)](http://www.spinics.net/lists/raid/msg41835.html)
- [dm-crypt (missing headers)](http://www.spinics.net/lists/dm-crypt/msg04945.html)
- [johntheripper (expecting tcphdr in tcp.h)](https://github.com/magnumripper/JohnTheRipper/pull/248/files)
- [glibc 15368 (raise is not async signal safe)](http://sourceware.org/bugzilla/show_bug.cgi?id=15368)
- [posix 686 (clock() wrap around and signedness of clock\_t)](http://austingroupbugs.net/view.php?id=686)
- [iso c dr 437 (clock() wrap around)](http://www.open-std.org/jtc1/sc22/wg14/www/docs/dr_437.htm)
- [posix 689 (stdio deadlock)](http://austingroupbugs.net/view.php?id=689)
- [glibc 15448 (integer overflow in CPU\_- macros in sched.h)](http://sourceware.org/bugzilla/show_bug.cgi?id=15448)
- [posix 695 (atomicity of file operations)](http://austingroupbugs.net/view.php?id=695)
- [posix 703 (add errno for clock() wrap around)](http://austingroupbugs.net/view.php?id=703)
- [gcc 57258 (unused warning for volatile variables)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=57258)
- [posix 708 (thread-safety of mblen, mbtowc, and wctomb)](http://austingroupbugs.net/view.php?id=708)
- [gcc 57574 (incorrect c99 inline semantics)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=57574)
- [glibc 15615 (rand\_r is biased)](http://sourceware.org/bugzilla/show_bug.cgi?id=15615)
- [posix 711 (va\_- macros should be async-signal-safe)](http://austingroupbugs.net/view.php?id=711)
- [posix 712 (typographic error in html)](http://austingroupbugs.net/view.php?id=712)
- [posix 713 (\*quo is unspecified on error in remquo)](http://austingroupbugs.net/view.php?id=713)
- [posix 714 (yn(n,0) for negative odd n)](http://austingroupbugs.net/view.php?id=714)
- [gnulib (assuming broken fflush in cross compilation)](http://lists.gnu.org/archive/html/bug-gnulib/2013-06/msg00043.html)
- [posix 716 (process instead of thread in rename spec)](http://austingroupbugs.net/view.php?id=716)
- [glibc 15720 (stdc-predef.h defines \_\_STDC\_IEC\_559\_COMPLEX\_\_)](http://sourceware.org/bugzilla/show_bug.cgi?id=15720)
- [posix 728 (signal handler restrictions)](http://austingroupbugs.net/view.php?id=728)
- [sdl (SDL\_CreateThread stack size is unknown and cannot be set)](http://bugzilla.libsdl.org/show_bug.cgi?id=2019)
- [libxml2 704903 (dict.c randomization is bogus)](https://bugzilla.gnome.org/show_bug.cgi?id=704903)
- [libxml2 704904 (weak references to pthread functions)](https://bugzilla.gnome.org/show_bug.cgi?id=704904)
- [libxml2 704905 (xmlInitParser and xmlInitThreads lacks synchronization)](https://bugzilla.gnome.org/show_bug.cgi?id=704905)
- [libxml2 704907 (namespace violation: \_\_xml symbols)](https://bugzilla.gnome.org/show_bug.cgi?id=704907)
- [libxml2 704908 (pthread symbols are not \#undefed before reusing them)](https://bugzilla.gnome.org/show_bug.cgi?id=704908)
- [glibc 15838 (fts.h is unusable on 32bit systems)](http://sourceware.org/bugzilla/show_bug.cgi?id=15838)
- [glibc 15846 (getauxval api is broken)](http://sourceware.org/bugzilla/show_bug.cgi?id=15846)
- [posix 739 (strftime %F vs %Y-%m-%d in posix vs iso c)](http://austingroupbugs.net/view.php?id=739)
- [posix 740 (wcsftime field widths)](http://austingroupbugs.net/view.php?id=740)
- [gcc 58245 (gcc -fstack-protector with noreturn func optimizes away ssp epilogue)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=58245)
- [posix 747 (incorrect note about pthread\_once\_t)](http://austingroupbugs.net/view.php?id=747)
- [gcc 58427 (xgcc target compilation depends on installed libgcc\_s.so)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=58427)
- [gcc 58446 (musl support patches)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=58446)
- [gcc 58489 (ICE in in reload\_cse\_simplify\_operands with -march=armv6 -Os)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=58489)
- [posix 753 (typo in an example)](http://austingroupbugs.net/view.php?id=753)
- [posix 754 (total ordering requirement in qsort)](http://austingroupbugs.net/view.php?id=754)
- [posix 755 (mutex ownership after thread id reuse)](http://austingroupbugs.net/view.php?id=755)
- [posix 761 (snprintf when n&gt;INT\_MAX)](http://austingroupbugs.net/view.php?id=761)
- [wg14 n1769.pdf (round to narrower floating-point operations in ISO/IEC TS 18661)](http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1769.pdf)
- [wg14 mail (floating-point issues, FLT\_EVAL\_METHOD!=0)](http://port70.net/~nsz/isoc_fp_dr.txt)
- [linux (ASLR creates bad memory layout for PIE)](https://patchwork.kernel.org/patch/2973181/) [lkml report](http://marc.info/?l=linux-kernel&m=137889654211299)
- [linux 3.13 (microblaze mmap2 fix)](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=99399545d62533b4ae742190b5c6b11f7a5826d9)
- [mit-scheme (conformance issues)](https://savannah.gnu.org/bugs/index.php?40148)
- [posix 777 (leading zero handling in inet\_pton)](http://austingroupbugs.net/view.php?id=777)
- [posix 780 (missing CX shadings in the name space table)](http://austingroupbugs.net/view.php?id=780)
- [posix 781 (LC\_\*\_MASK is reserved for locale.h instead of LC\_A-Z\*)](http://austingroupbugs.net/view.php?id=781)
- [posix 782 (reserve ISO C reserved identifiers in complex.h)](http://austingroupbugs.net/view.php?id=782)
- [posix 783 (missing IPV6 shading in unistd.h)](http://austingroupbugs.net/view.php?id=783)
- [posix 790 (reserved identifier list for external linkage)](http://austingroupbugs.net/view.php?id=790)
- [posix 791 (missing CX shading for getsubopt)](http://austingroupbugs.net/view.php?id=791)
- [posix 801 (M\_- macros with FLT\_EVAL\_METHOD!=0)](http://austingroupbugs.net/view.php?id=801)
- [posix 806 (fnmatch when pattern ends in backslash)](http://austingroupbugs.net/view.php?id=806)
- [valgrind 329612 (incorrect AT\_BASE handling)](https://bugs.kde.org/show_bug.cgi?id=329612) [committed fix](https://github.com/svn2github/valgrind/commit/e35481f150e4c1b13b8aec1f9fe0099c08c84070)
- [glibc 16355 (namespace violation in syslog.h)](http://sourceware.org/bugzilla/show_bug.cgi?id=16355)
- [gdb 16370 (gdb build depends on bash)](http://sourceware.org/bugzilla/show_bug.cgi?id=16370)
- [glibc 16437 (struct timespec is non-conforming on x32)](http://sourceware.org/bugzilla/show_bug.cgi?id=16437)
- [glibc 16438 (\_\_syscall\_ulong\_t is a security risk on x32)](http://sourceware.org/bugzilla/show_bug.cgi?id=16438)
- [linux (CONFIG\_MEM\_SOFT\_DIRTY disabled VMA merging)](http://ellcc.org/blog/?p=1624) [fix for linux 3.14](http://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=34228d473efe764d4db7c0536375f0c993e6e06a)
- [gcc 60259 (classpath hangs if the opaque LC\_MESSAGES string is in unexpected format)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=60259)
- [pcc (with -fPIC const data gets into writable .data section)](http://marc.info/?l=pcc-list&m=139262156322844&w=2)
- [pcc (libpcc symbols have default visibility instead of hidden)](http://marc.info/?l=pcc-list&m=139336988628827&w=2)
- [linux (uapi header conflicts with libc) patch 1](https://lkml.org/lkml/2014/3/14/269) [patch 2](https://lkml.org/lkml/2014/3/14/267) [patch 3](https://lkml.org/lkml/2014/3/14/274) [patch 4](https://lkml.org/lkml/2014/3/14/266)
- [glibc 16605 (invalid stdio file position caching)](https://sourceware.org/bugzilla/show_bug.cgi?id=16605)
- [binutils 16698 (assertion failure with -Wl,--gc-sections and -s)](https://sourceware.org/bugzilla/show_bug.cgi?id=16698)
- [gold 16728 (hidden tls symbols are not hidden)](https://sourceware.org/bugzilla/show_bug.cgi?id=16728)
- [glibc 16747 (lio\_listio prototype misses a restrict qualifier)](https://sourceware.org/bugzilla/show_bug.cgi?id=16747)
- [linux (sh arch syscall handling was broken)](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=abafe5d9b04648a2f699202e9ae2d15ffe44c3a3), [(exception handler fix)](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=a3c195144e162097c42e4284323ed6d386de105d), [(cleanup)](https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=7caf62de25554da3af00c92c11afa95dcc3592c4)
- [ewontfix/16 (collection of glibc pthread bugs)](http://ewontfix.com/16/)
- [gcc 60537 (sh code bloat in loop optimization)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=60537)
- [gcc 60538 (sh cmp/str optimization)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=60538)
- [glibc 16852 (recvmmsg clobbers const object)](https://sourceware.org/bugzilla/show_bug.cgi?id=16852)
- [glibc 16854 (sendmmsg and recvmmsg have incorrect header comments)](https://sourceware.org/bugzilla/show_bug.cgi?id=16854)
- [python 20594 (posix namespace violation in posixmodule.c)](http://bugs.python.org/issue20594)
- [posix 833 (new SOCK\_- flags should not be used in getaddrinfo hints-&gt;ai\_socktype)](http://austingroupbugs.net/view.php?id=833)
- [firefox (build system uses illegal char sequence in sh and sed)](https://bugzilla.mozilla.org/show_bug.cgi?id=1008851)
- [gcc 61144 (extern vars with local weak definitions are broken)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=61144), [(related debian bug)](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=748681)
- [gcc 61159 (\_\_builtin\_constant\_p is wrong on aliased local vars)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=61159)
- [firefox (assuming pthread\_t is integral and using == on it)](https://bugzilla.mozilla.org/show_bug.cgi?id=1010194)
- [binutils 17057 (dynamic TLSDESC is broken on i386)](https://sourceware.org/bugzilla/show_bug.cgi?id=17057)
- [gcc 61739 (invalid \_\_builtin\_printf optimization)](https://gcc.gnu.org/bugzilla/show_bug.cgi?id=61739)
- [glibc 17144 (syslog is non-thread-safe without NO\_SIGPIPE)](https://sourceware.org/bugzilla/show_bug.cgi?id=17144)
- [glibc 17145 (syslog leaks fd with LOG\_CONS)](https://sourceware.org/bugzilla/show_bug.cgi?id=17145)
- [libressl (using &main as entropy)](http://devsonacid.wordpress.com/2014/07/12/how-compatible-is-libressl/)
- [firefox (hardcoded glibc specific config of icu)](https://bugzilla.mozilla.org/show_bug.cgi?id=1046186)
- [posix 861 (no way to query active locale name when uselocale is used)](http://austingroupbugs.net/view.php?id=861)
- [asterisk 24154 (use of PTHREAD\_MUTEX\_INITIALIZER as if it provided a recursive mutex](https://issues.asterisk.org/jira/browse/ASTERISK-24154)
- [asterist 24155 (invalid use of backtrace() to check for recursion](https://issues.asterisk.org/jira/browse/ASTERISK-24155)

## Bugs relevant to musl

- [glibc 3400 (static linking is not supported)](http://sourceware.org/bugzilla/show_bug.cgi?id=3400)
- [posix 374 (posix vs c inconsistency about malloc(0) and realloc(p,0))](http://austingroupbugs.net/view.php?id=374)
- [glibc 5945 (regoff\_t size)](http://sourceware.org/bugzilla/show_bug.cgi?id=5945)
- [binutils 12549 (--as-needed should ignore weak refs)](http://sourceware.org/bugzilla/show_bug.cgi?id=12549)
- [glibc 12674 (sem\_post/sem\_wait race)](http://sourceware.org/bugzilla/show_bug.cgi?id=12674)
- [glibc 13276 (realloc aborts when runs out of vm)](http://sourceware.org/bugzilla/show_bug.cgi?id=13276)
- [glibc 4737 (fork is not async-signal-safe)](http://sourceware.org/bugzilla/show_bug.cgi?id=4737)
- [binutils 13470 (ppc32 ld regressions in 2.22)](http://sourceware.org/bugzilla/show_bug.cgi?id=13470)
- [binutils 13600 (protected visibility creates bogus relocation)](http://sourceware.org/bugzilla/show_bug.cgi?id=13600)
- [gcc 51437 (feature request: warn on reserved identifiers)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=51437)
- [glibc 13165 (observable invalid ordering with pthread\_cond\_wait)](http://sourceware.org/bugzilla/show_bug.cgi?id=13165)
- [gcc 46770 (.init\_array vs .ctors for initializing static objects in c++)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=46770)
- [boost (endian detection is incorrect)](https://svn.boost.org/trac/boost/ticket/7516)
- [gcc 18501 (missing warning about uninitialized variables)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=18501)
- [clang 8100 (incorrect floating-point optimizations and c99 fenv support)](http://llvm.org/bugs/show_bug.cgi?id=8100)
- [NULL in vararg functions (ewontfix article)](http://ewontfix.com/11/)
- [gcc fixincludes (ewontfix article)](http://ewontfix.com/12/)
- [gcc 31798 (on arm libgcc has undefined reference to raise)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=31798)
- [gcc 52734 (4.7.0 regression: incorrect tail merging optimization)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=52734)
- [gcc 56888 (memcpy is compiled to invoke memcpy)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=56888) [gcc-help thread](http://gcc.gnu.org/ml/gcc-help/2013-07/msg00176.html)
- [strace (fork/vfork tracing may fail with ERESTARTNOINTR, fixed in 4.8)](https://bugzilla.redhat.com/show_bug.cgi?id=659382)
- [gcc ml (\_\_stack\_chk\_fail\_local without -lssp\_nonshared)](http://gcc.gnu.org/ml/gcc/2012-01/msg00012.html)
- [glibc 13862 (tls design issue in glibc)](http://sourceware.org/bugzilla/show_bug.cgi?id=13862)
- [mesa (initial-exec tls model breaks dlopening libGL)](https://bugs.freedesktop.org/show_bug.cgi?id=35268)
- [glibc 16291 (stack and tls bounds api for asan)](https://sourceware.org/bugzilla/show_bug.cgi?id=16291)
- [glibc 9712 (expose futex syscall)](https://sourceware.org/bugzilla/show_bug.cgi?id=9712)
- [gcc 53513 (sh fpu precision mode switching using \_\_fpscr\_values)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=53513)
- [gnulib (gnulib stdint.h was broken for c++)](http://comments.gmane.org/gmane.comp.lib.gnulib.bugs/10702)
- [uClibc (no stable release for two years)](http://lists.uclibc.org/pipermail/uclibc/2014-February/048252.html)
- [posix 811 (is pthread\_mutex\_unlock atomic)](http://austingroupbugs.net/view.php?id=811) self-synced destruction: [qemu-devel](https://lists.gnu.org/archive/html/qemu-devel/2014-02/msg04583.html), [glibc 13690](https://sourceware.org/bugzilla/show_bug.cgi?id=13690), [linux pipe-race](http://lwn.net/Articles/575477/)
- [llvm 11316 (va\_arg is broken on powerpc for aggregate types)](http://llvm.org/bugs/show_bug.cgi?id=11316)
- [gcc 60766 (bad optimization with -ftree-loop-optimize in 4.7 and 4.8)](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=60766)

## Unreported bugs

- [linux procfs and writev](http://www.openwall.com/lists/musl/2013/05/05/9)
- posix: usage of the cx option in unistd.h
- broken bre support in tre
- broken random in all bsd libc and glibc (bad seed, ub signed int arithmetics)
- search.h implementation bugs in bsd libc and glibc (stack overflow, hsearch crashes on glibc)
- several libm bugs in glibc, fdlibm (freebsd, openbsd, bionic,..)
- gcc fldpi, fldl2e,.. even with -frounding-math
- gcc -fPIC -Os generates GOT for single 32bit consts instead of using immediate value (for float on i386)
- llvm signal handler bug (not async-signal-safe, invalid use of c++, racy unmasking) in Support/Unix/Signals.inc
- llvm exit bug (destructor calls exit)
- llvm: invalid use of the address of stdin/stdout/stderr in Support/DynamicLibrary.cpp
- address sanitizer: various problems: stack detection, include files, ifdef, non-portable code,..
- various c++ projects: depend on constructor order of different tu ([gcc 46770](http://gcc.gnu.org/bugzilla/show_bug.cgi?id=46770))
- various projects: assume large thread stack size without setting it up (firefox,..)
- various projects: query the base pointer of the stack to do pointer arithmetics with it (libgc, firefox,...)
- calling dlopen from the constructor of global static object (firefox)
- incorrect usage of feature test macros and configure results (lots of projects)
- usage of obsolete wrong headers (sys/foo.h instead of foo.h and vice-versa, many projects)
- glibc has some missing posix symbols (found by libc-test)
- glibc has broken vfork on mips
- glibc integer overflows in time/tz code
- linux headers invoke ub by using (1 &lt;&lt; 31) eg. MS\_NOUSER in include/uapi/linux/fs.h
- strace: broken handling of vfork
- bionic: posix namespace violation, +gratuitous interface breaking
- bionic: broken checks in wchar.cpp mbrtowc
- gnutls: O\_CLOEXEC
- arp: posix namespace collision (tm\_)
- util-linux: cpuset.h \_\_cpumask, etc, sys/ttydefaults.h, \_\_sighandler\_t
- f() instead of (f)() in configure scripts (or \#undef)
- bionic/wchar.cpp 'if (n == 0)' is wrong, should be 'if (s == NULL)' and later 'if (n == 0) return -2'
- gcc vs c99 annex f issues
- gcc dl\_iterate\_phdr configure check (hard coded solaris header check + glibc/bionic/bsd ifdef + config.host overrides)
- posix: can syslog set errno (when it fails)?
- isoc: fputc('c',stdin) should be explicitly ub
- posix: pow "For y &lt; 0, if x is zero, .. +-HUGE\_VAL" should be "if x is +-0" to match +-
- isoc: underflow omission in annex f with FLT\_EVAL\_METHOD!=0 ([comp.lang.c discussion](https://groups.google.com/forum/#!topic/comp.std.c/oosKDrY28E8))
- glibc: fegetenv/fesetenv does not save/restore sse exception flags on i386
- gcc: peephole optimization on i386 (i64 &= -1ULL&lt;&lt;32; turns into "andl \$-1,4(%esp); movl \$0,(%esp)")
- gcc: optimization for fmod loop: superfluous fldl/fstpl in loop
- glibc, gnulib: invalid ld80 on i386 printf'd incorrectly, gnulib tests this case, but not correctly
- glibc: -lxnet fails (posix requirement)
- glibc vs linux: on microblaze struct elf\_prpsinfo does not match the in-kernel definition.
- gcc: generates usless .globl directive when referencing libgcc math  function
- gcc: libgcc symbol references has .globl but not .type directive so the assembler considers the symbol reference as object breaking eg -Bsymbolic-functions
- gcc: definitions in libgcc.a should be .hidden (default visibility breaks usage in shared libraries)
- gcc: (long long)ptr sign extends the pointer value, this eg breaks syscall arg passing on x32
- glibc: alloca, strdupa, strndupa, should be declared with \_\_attribute\_\_((deprecated))
- gcc, clang: mm\_malloc.h pollutes global namespace, broken if libc posix\_memalign is macro, gcc proto is wrong
- gcc, \_\_builtin\_constant\_p does not evaluate to an integer-constant-expression
- linux: on 32bit mips linux uses -1U/2 as RLIM\_INFINITY (which is in the middle of the valid range) but limits are not always compared accordingly: eg one can set inifine limit even if rlim\_max is finite and &gt;-1U/2

